{% extends "base.html" %}
{% block title %}Home — Complaint Analyzer{% endblock %}

{% block content %}
<div class="flex items-center justify-center mt-16">
  <div class="text-center bg-white/70 backdrop-blur-md p-10 rounded-2xl shadow-lg w-full max-w-lg">
    <h1 class="text-4xl font-extrabold text-indigo-700 mb-4 tracking-tight">
      ⚡ Welcome to Complaint Analyzer
    </h1>
    <p class="text-gray-700 text-lg mb-8">
      Easily register or login to file and track complaints with interactive analytics.
    </p>

    <div class="flex justify-center space-x-4">
      <a href="{{ url_for('auth.login') }}" 
         class="px-6 py-2 bg-indigo-600 text-white font-semibold text-lg rounded-lg shadow hover:bg-indigo-700 transition">
        Login
      </a>
      <a href="{{ url_for('auth.register') }}" 
         class="px-6 py-2 bg-white border border-indigo-600 text-indigo-700 font-semibold text-lg rounded-lg shadow hover:bg-indigo-50 transition">
        Register
      </a>
    </div>
  </div>
</div>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div id="popup-message" class="popup-flash">
      {% for category, message in messages %}
        <div class="flash {{ category }}">{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<style>
.popup-flash {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 9999;
  animation: fadeInOut 3.5s ease-in-out;
}

.flash {
  padding: 16px 32px;
  border-radius: 12px;
  font-weight: 600;
  font-size: 1.1rem;
  text-align: center;
  min-width: 260px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.25);
  transform: scale(0.9);
  animation: popupBounce 0.4s ease forwards;
}

.flash.success {
  background-color: #bbf7d0;
  color: #064e3b;
  border: 1px solid #34d399;
}

.flash.error {
  background-color: #fecaca;
  color: #7f1d1d;
  border: 1px solid #f87171;
}

@keyframes popupBounce {
  0% { opacity: 0; transform: scale(0.85); }
  40% { opacity: 1; transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes fadeInOut {
  0% { opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { opacity: 0; }
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const popup = document.getElementById("popup-message");
  if (popup) {
    setTimeout(() => popup.style.display = "none", 3500);
  }
});
</script>
{% endblock %}
